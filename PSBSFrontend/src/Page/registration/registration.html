<div class="reg-wrapper">

  <div class="reg-left"></div>

  <div class="reg-right">
    <div class="reg-content">

      <h2 class="reg-title">Create Your Account</h2>
      <p class="reg-subtitle">Join our photography booking platform</p>

      <form #regForm="ngForm" (ngSubmit)="register(regForm)">

        <!-- Register As -->
        <div class="mb-3">
          <label>Register As</label>
          <select
            class="reg-input"
            name="registerAs"
            [(ngModel)]="user.registerAs"
            required>
            <option value disabled>Select role</option>
            <option value="Photographer">Photographer</option>
            <option value="Client">Client</option>
          </select>
        </div>

        <!-- Full Name -->
        <div class="mb-3">
          <label>Full Name</label>
          <input
            type="text"
            class="reg-input"
            name="fullName"
            [(ngModel)]="user.fullName"
            placeholder="Enter your name"
            required>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label>Email</label>
          <input
            type="email"
            class="reg-input"
            name="email"
            [(ngModel)]="user.email"
            placeholder="Enter your email"
            required>
        </div>

        <!-- Phone with Country Code -->
        <div class="mb-3">
          <label>Phone</label>

          <div style="display: flex; gap: 10px;">
            <!-- Country Code -->
            <select
              class="form-select"
              name="countryCode"
              [(ngModel)]="user.countryCode"
              required>
              <option value>Select Country Code</option>
              <option *ngFor="let c of countries" [value]="c.dialCode">
                {{ c.flag }} {{ c.name }} ({{ c.dialCode }})
              </option>
            </select>

            <!-- Phone Number -->
            <input
              type="tel"
              class="reg-input"
              name="phone"
              [(ngModel)]="user.phone"
              placeholder="Phone number"
              pattern="[0-9]{6,15}"
              required>
          </div>
        </div>

        <!-- Username -->
        <div class="mb-3">
          <label>Username</label>
          <input
            type="text"
            class="reg-input"
            name="userName"
            [(ngModel)]="user.userName"
            placeholder="Choose a username"
            required>
        </div>

        <!-- Password -->
        <div class="mb-3 position-relative">
          <label>Password</label>

          <input
            [type]="showPassword ? 'text' : 'password'"
            class="reg-input"
            name="password"
            [(ngModel)]="user.password"
            placeholder="Enter password"
            required />

          <i
            class="fa-solid"
            [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="togglePassword()"
            style="
            position: absolute;
            right: 12px;
            top: 45px;
            cursor: pointer;
            color: #666;
          ">
          </i>
        </div>

        <!-- Confirm Password -->
        <div class="mb-3">
          <label>Confirm Password</label>
          <input
            type="password"
            class="reg-input"
            name="confirmPassword"
            [(ngModel)]="user.confirmPassword"
            placeholder="Re-enter password"
            required>
        </div>

        <!-- Gender -->
        <div class="mb-3">
          <label>Gender</label>
          <select
            class="reg-input"
            name="gender"
            [(ngModel)]="user.gender"
            required>
            <option value disabled>Select gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>

        <!-- Submit -->
        <button
          type="submit"
          class="reg-btn"
          [disabled]="isLoading">
          {{ isLoading ? 'Processing...' : 'Create Account' }}
        </button>

        <p class="reg-login-text">
          Already have an account?
          <a routerLink="/login" class="reg-login-link">Log in</a>
        </p>

      </form>
    </div>
  </div>
</div>
